<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="utf-8" />
    <title>√úye Paneli | UniClub</title>
    <link rel="stylesheet" href="../styles.css" />
  </head>
  <body>
    <div class="page-root">
      <div class="app-shell">
        <!-- HEADER -->
        <header class="app-header">
          <div class="app-title-block">
            <div class="app-title">
              UniClub
              <span class="app-title-badge">√úye Paneli</span>
            </div>
            <div class="app-subtitle">
              Kul√ºpleri ke≈üfet, etkinliklere katƒ±l ve profilini y√∂net.
            </div>
          </div>
          <nav class="app-nav">
            <button
              class="button-ghost"
              onclick="showPage('overview')"
            >
              Ana Sayfa
            </button>
            <button class="button-primary button-small" onclick="logout()">√áƒ±kƒ±≈ü</button>
          </nav>
        </header>

        <!-- SOL MENU + ANA ƒ∞√áERƒ∞K -->
        <div class="dashboard-layout">
          <!-- Sidebar -->
          <aside class="sidebar">
            <div class="sidebar-item active" data-page="overview" onclick="showPage('overview')">
              üè† Genel Bakƒ±≈ü
            </div>
            <div class="sidebar-item" data-page="clubs" onclick="showPage('clubs')">
              üèõ Kul√ºpler
            </div>
            <div class="sidebar-item" data-page="events" onclick="showPage('events')">
              üìÖ Etkinlikler
            </div>
            <div class="sidebar-item" data-page="profile" onclick="showPage('profile')">
              üë§ Profilim
            </div>
          </aside>

          <!-- ANA CONTENT -->
          <main class="dashboard-content">

            <!-- ================= GENEL BAKI≈û ================= -->
            <section id="page-overview" class="page-view active">
              <div class="card">
                <div class="card-header">
                  <div>
                    <div class="card-title">Ho≈ü Geldin</div>
                    <div class="card-subtitle">
                      √úyelik durumun ve aktivitelerin burada.
                    </div>
                  </div>
                  <span id="userEmailBadge" class="chip">(Y√ºkleniyor...)</span>
                </div>

                <!-- √ústte: istatistik kartlarƒ± -->
                <div
                  style="
                    display: grid;
                    grid-template-columns: repeat(2, minmax(0, 1fr));
                    gap: 16px;
                    margin-top: 10px;
                  "
                >
                  <div class="stat-card">
                    <div class="stat-label">√úye Olduƒüum Kul√ºpler</div>
                    <div class="stat-value" id="statClubsCount">-</div>
                    <div class="stat-sublist" id="statClubsList"></div>
                  </div>

                  <div class="stat-card">
                    <div class="stat-label">Ba≈üvuru S√ºrecindeki Kul√ºpler</div>
                    <div class="stat-value" id="statPendingCount">-</div>
                    <div class="stat-sublist" id="statPendingList"></div>
                  </div>
                </div>

                <!-- Altta: duyurular + etkinlikler, aynƒ± kartƒ±n i√ßinde -->
                <div
                  class="overview-bottom-row"
                  style="
                    margin-top: 18px;
                    display: grid;
                    grid-template-columns: repeat(2, minmax(0, 1fr));
                    gap: 16px;
                  "
                >
                  <!-- Duyurular -->
                  <div class="card">
                    <div class="card-header">
                      <div>
                        <div class="card-title">Duyurular</div>
                        <div class="card-subtitle">
                          Kul√ºplerden gelen son haberler.
                        </div>
                      </div>
                    </div>
                    <p
                      style="
                        font-size: 13px;
                        color: var(--text-muted);
                        margin-top: 8px;
                      "
                    >
                      Hen√ºz yeni bir duyuru yok.
                    </p>
                  </div>

                  <!-- Etkinlikler -->
                  <div class="card">
                    <div class="card-header">
                      <div>
                        <div class="card-title">Etkinlikler</div>
                        <div class="card-subtitle">
                          Yakla≈üan veya kayƒ±t olabileceƒüin etkinlikler.
                        </div>
                      </div>
                    </div>
                    <p
                      id="overviewEventsPlaceholder"
                      style="
                        font-size: 13px;
                        color: var(--text-muted);
                        margin-top: 8px;
                      "
                    >
                      Yakƒ±nda katƒ±labileceƒüin etkinlikler burada g√∂r√ºnecek.
                    </p>
                  </div>
                </div>
              </div>
            </section>

            <!-- ================= KUL√úPLER ================= -->
            <section id="page-clubs" class="page-view">
              <div class="card">
                <div class="card-header">
                  <div>
                    <div class="card-title">T√ºm Kul√ºpler</div>
                    <div class="card-subtitle">
                      √úniversitedeki aktif kul√ºplerin listesi.
                    </div>
                  </div>
                </div>
                <div id="clubListContainer" style="margin-top: 10px;">
                  Y√ºkleniyor...
                </div>
              </div>

              <!-- Kul√ºp Detay Modalƒ± -->
              <div id="clubDetailModal" class="modal-overlay" style="display:none;">
                <div class="modal-card">
                  <button class="modal-close" id="btnCloseClubModal">√ó</button>

                  <div class="card-header" style="margin-bottom: 8px;">
                    <div>
                      <div class="card-title" id="clubDetailName">Kul√ºp Detayƒ±</div>
                      <div class="card-subtitle">
                        Kul√ºp hakkƒ±nda detaylƒ± bilgi ve √ºyelik i≈ülemleri.
                      </div>
                    </div>
                  </div>

                  <div class="modal-body">
                    <!-- Sol taraf: kul√ºp bilgileri -->
                    <div class="modal-info">
                      <p><span class="label">A√ßƒ±klama:</span> <span id="clubDetailDescription"></span></p>
                      <p><span class="label">E-posta:</span> <span id="clubDetailEmail"></span></p>
                      <p><span class="label">Telefon:</span> <span id="clubDetailPhone"></span></p>
                      <p><span class="label">Misyon:</span> <span id="clubDetailMission"></span></p>
                      <p><span class="label">Vizyon:</span> <span id="clubDetailVision"></span></p>

                      <div class="club-actions-row">
                        <button id="btnJoinClub" class="button-primary">
                          √úye Ol
                        </button>
                        <button
                          id="btnCancelMembership"
                          class="button-ghost button-small"
                          style="display:none;"
                        >
                          Ba≈üvuruyu Geri √áek
                        </button>
                        <div id="clubJoinMessage" class="club-action-message"></div>
                      </div>
                    </div>

                    <!-- Saƒü taraf: fotoƒüraflar -->
                    <div class="modal-photos">
                      <div class="label" style="margin-bottom: 6px;">Etkinlik Fotoƒüraflarƒ±</div>
                      <div id="clubDetailPhotos" class="club-photos-grid">
                        <!-- JS ile doldurulacak -->
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <!-- ================= ETKƒ∞NLƒ∞KLER ================= -->
            <section id="page-events" class="page-view">
              <div class="card">
                <div class="card-header">
                  <div>
                    <div class="card-title">Yakla≈üan Etkinlikler</div>
                    <div class="card-subtitle">
                      Kaydolabileceƒüin etkinlikler.
                    </div>
                  </div>
                </div>
                <p style="font-size: 13px; color: var(--text-muted); margin-top: 8px;">
                  Etkinlik listesi geli≈ütirme a≈üamasƒ±nda.
                </p>
              </div>
            </section>

           <section id="page-profile" class="page-view">
  <div class="card">
    <div class="card-header">
      <div>
        <div class="card-title">Profil Bilgileri</div>
        <div class="card-subtitle">
          Ki≈üisel bilgilerini buradan g√ºncelleyebilirsin.
        </div>
      </div>
    </div>

    <!-- √ústte sadece √∂zet bilgi -->
    <div id="profileInfo" style="margin-bottom: 20px;">Profil y√ºkleniyor...</div>

    <hr style="border: none; border-top: 1px solid var(--border-subtle); margin: 10px 0 18px 0;" />

    <!-- Aynƒ± kartƒ±n i√ßinde form -->
    <div>
      <div class="card-title" style="font-size: 15px; margin-bottom: 10px;">
        Bilgileri G√ºncelle
      </div>

      <form id="profileForm">
        <label>
          <span class="label">√ñƒürenci No (Deƒüi≈ütirilemez)</span>
          <input type="text" id="profileOgrenciNo" disabled style="opacity: 0.6;" />
        </label>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
          <label>
            <span class="label">Ad</span>
            <input type="text" id="profileName" />
          </label>
          <label>
            <span class="label">Soyad</span>
            <input type="text" id="profileSurname" />
          </label>
        </div>

        <label>
          <span class="label">E-posta</span>
          <input type="email" id="profileEmail" />
        </label>

        <button type="submit" class="button-primary" style="justify-content: center">
          G√ºncelle
        </button>
        <div id="statusMsg" class="status-success"></div>
      </form>
    </div>
  </div>
</section>


          </main>
        </div>
      </div>
    </div>

    <!-- JS -->
    <script src="user.js"></script>
    <script>
      // Sidebar tƒ±klamalarƒ±nda sadece showPage √ßaƒüƒ±rƒ±yoruz.
      // Aktiflik ve sayfa ge√ßi≈üini user.js i√ßindeki showPage hallediyor.
      document.querySelectorAll(".sidebar-item").forEach((item) => {
        item.addEventListener("click", () => {
          const target = item.getAttribute("data-page");
          if (typeof showPage === "function") {
            showPage(target);
          }

          // Kul√ºpler sekmesine ge√ßince listeyi tazelemek istersen:
          if (target === "clubs" && typeof loadClubs === "function") {
            loadClubs();
          }
        });
      });
    </script>
  </body>
</html>
